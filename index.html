<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neal Batchelor | Mechanical Engineer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <!-- Animation Library CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        eng: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9', // Primary Blue
                            800: '#075985',
                            900: '#0c4a6e', // Deep Navy
                        }
                    }
                }
            }
        }
    </script>
    <style>
    #card-icon i {
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}
        /* Hide scrollbar for the horizontal section */
    .hide-scroll::-webkit-scrollbar {
        display: none;
    }
    .hide-scroll {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
        /* Elastic Radial Fill Effect (Updated) */
    .btn-liquid-bounce {
        position: relative;
        overflow: hidden;
        z-index: 1;
        /* Smooth text color change */
        transition: color 0.6s ease-in-out, border-color 0.6s ease;
    }
    
    .btn-liquid-bounce:hover {
        color: white !important;
        border-color: #0ea5e9;
    }
    
    /* The Blue Liquid Circle */
    .btn-liquid-bounce::before {
        content: '';
        position: absolute;
        /* Tracks mouse position */
        top: var(--y, 50%);
        left: var(--x, 50%);
        
        width: 450px;
        height: 450px;
        border-radius: 50%;
        background-color: #0ea5e9; /* Engineer Blue */
        
        /* BASE STATE (When mouse leaves) */
        transform: translate(-50%, -50%) scale(0);
        opacity: 0; /* This fixes the "dot" issue by fading it out */
        z-index: -1;
        
        /* EXIT ANIMATION: Fade out quickly (0.3s) while shrinking */
        transition: transform 0.5s ease-out, opacity 0.3s ease-out;
    }
    
    .btn-liquid-bounce:hover::before {
        /* HOVER STATE (When mouse enters) */
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
        
        /* ENTER ANIMATION: Slower (1s) and Bouncy */
        transition: transform 1s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.1s ease-in;
    }
        /* Elastic Magnetic Button Physics */
    .magnetic-btn {
        display: inline-block;
        /* The "1.56" value causes the overshoot (bounce) */
        transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); 
        will-change: transform;
    }
    
    .text-liquid-blue {
        /* The Palette: Ice Blue -> Engineer Blue -> Deep Sea Blue */
        background-image: radial-gradient(
            circle at center,
            #68b9e4 0%,   /* Ice Blue (Highlight) */
            #0ea5e9 30%,  /* Engineer Blue (Main) */
            #4eb0e5 50%,  /* Deep Blue (Shadow) - Replaces the dark grey */
            #0ea5e9 70%,  /* Engineer Blue (Main) */
            #58bcf1 90%   /* Ice Blue (Highlight) */
        );
        
        /* Essential for clipping to text */
        color: transparent;
        background-clip: text;
        -webkit-background-clip: text;
        
        /* Smooth, fluid movement */
        animation: liquidShimmer 20s ease-in-out infinite alternate;
    }
    </style>
</head>

<body class="bg-slate-50 text-slate-800 antialiased selection:bg-eng-500 selection:text-white">
    <!-- Scroll Progress Bar -->
    <div id="scroll-progress" class="fixed top-0 left-0 h-1.5 bg-eng-500 z-[100] transition-all duration-75 ease-out shadow-[0_0_10px_rgba(14,165,233,0.5)]" style="width: 0%"></div>
    <!-- Navigation -->
    <nav class="fixed w-full bg-white/90 backdrop-blur-md shadow-sm z-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex-shrink-0 flex items-center gap-2 cursor-pointer" onclick="window.scrollTo(0,0)">
                    <i data-lucide="pen-tool" class="h-6 w-6 text-eng-500"></i>
                    <span class="font-bold text-xl tracking-tight text-slate-900">Home<span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="#about" class="text-slate-600 hover:text-eng-500 font-medium transition-colors">About</a>
                    <a href="#skills" class="text-slate-600 hover:text-eng-500 font-medium transition-colors">Skills</a>
                    <a href="#projects" class="text-slate-600 hover:text-eng-500 font-medium transition-colors">Projects</a>
                    <a href="#experience" class="text-slate-600 hover:text-eng-500 font-medium transition-colors">Experience</a>
                    <a href="#contact" class="px-5 py-2.5 bg-eng-900 text-white rounded-lg hover:bg-eng-800 transition-colors shadow-lg shadow-eng-900/20 font-medium">Contact Me</a>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-slate-600 hover:text-slate-900 focus:outline-none p-2">
                        <i data-lucide="menu" class="h-6 w-6"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-slate-100">
            <div class="px-4 pt-2 pb-6 space-y-1">
                <a href="#about" class="block px-3 py-3 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50 hover:text-eng-500">About</a>
                <a href="#skills" class="block px-3 py-3 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50 hover:text-eng-500">Skills</a>
                <a href="#projects" class="block px-3 py-3 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50 hover:text-eng-500">Projects</a>
                <a href="#experience" class="block px-3 py-3 rounded-md text-base font-medium text-slate-700 hover:bg-slate-50 hover:text-eng-500">Experience</a>
                <a href="#contact" class="block px-3 py-3 mt-4 text-center rounded-md text-base font-bold bg-eng-50 text-eng-700">Get In Touch</a>
            </div>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <header class="relative bg-eng-900 text-white pt-32 pb-24 lg:pt-48 lg:pb-32 overflow-hidden">
        <div class="absolute inset-0 grid-pattern opacity-20"></div>
        <!-- Interactive Warp Grid -->
        <canvas id="warp-grid" class="absolute inset-0 w-full h-full z-0 opacity-20 pointer-events-none"></canvas>
        <div class="absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-eng-500 rounded-full blur-3xl opacity-20 animate-pulse"></div>
        <div class="absolute bottom-0 left-0 -mb-20 -ml-20 w-80 h-80 bg-cyan-400 rounded-full blur-3xl opacity-10"></div>
        
        <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center text-center">
            <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 backdrop-blur-sm mb-6">
                <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
                <span class="text-sm font-medium tracking-wide text-gray-200">Open for new opportunities</span>
            </div>
            <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold tracking-tight mb-6">
                Neal Batchelor's <br class="hidden md:block" />
                <span class="text-liquid-blue">Portfolio</span>
            </h1>
            <p class="text-xl text-slate-300 max-w-2xl mb-10 leading-relaxed">
                Specialising in Quality Engineering, CAD design, finite element analysis (FEA), and rapid prototyping. Well experienced with continuous improvement cycles and root cause analysis.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
                <a href="#projects" class="btn-liquid-bounce  px-8 py-4 bg-white text-eng-900 rounded-lg font-bold hover:bg-eng-50 transition-all shadow-xl shadow-white/10 flex items-center justify-center gap-2 group">
                    View Portfolio
                    <i data-lucide="arrow-right" class="w-4 h-4 group-hover:translate-x-1 transition-transform"></i>
                </a>
                <a href="#contact" class="magnetic-btn px-8 py-4 bg-transparent border border-white/30 text-white rounded-lg font-semibold hover:bg-white/10 transition-colors flex items-center justify-center">
                    Contact Me
                </a>
            </div>
        </div>
    </header>

    <!-- Stats Bar (Dark Theme + Animated) -->
    <div class="bg-eng-800 border-y border-white/10 relative z-20 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 py-10 divide-x divide-white/10 text-center">
                <!-- Item 1 -->
                <div>
                    <div class="text-4xl font-bold text-cyan-300 mb-1">
                        <span class="stat-counter" data-target="69">0</span>%
                    </div>
                    <div class="text-xs font-bold text-slate-300 uppercase tracking-wider">Course Average</div>
                </div>
                <!-- Item 2 -->
                <div>
                    <div class="text-4xl font-bold text-cyan-300 mb-1">
                        <span class="stat-counter" data-target="10">0</span>+
                    </div>
                    <div class="text-xs font-bold text-slate-300 uppercase tracking-wider">Major Projects</div>
                </div>
                <!-- Item 3 -->
                <div>
                    <div class="text-4xl font-bold text-cyan-300 mb-1">
                        <span class="stat-counter" data-target="500">0</span>+
                    </div>
                    <div class="text-xs font-bold text-slate-300 uppercase tracking-wider">Hours in CAD</div>
                </div>
                <!-- Item 4 -->
                <div>
                    <div class="text-4xl font-bold text-cyan-300 mb-1">
                        <span class="stat-counter" data-target="2">0</span>
                    </div>
                    <div class="text-xs font-bold text-slate-300 uppercase tracking-wider">Internships</div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Section -->
    <section id="about" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:grid lg:grid-cols-2 lg:gap-16 items-center">
                <div class="mb-12 lg:mb-0 relative">
                    <div class="absolute inset-0 bg-eng-500 rounded-2xl rotate-3 opacity-20"></div>
                    <!-- Placeholder for User Image -->
                    <!-- 3D Model in About Section -->
<div class="relative w-full h-[700px] bg-slate-900 rounded-2xl shadow-2xl overflow-hidden border border-slate-700">
    <model-viewer 
        src="https://cdn.jsdelivr.net/gh/Nealbatchelor/portfolioassets/Engine23.glb" 
        alt="Rotational Track Mechanism"
        auto-rotate
        camera-controls
        shadow-intensity="1"
        camera-orbit="0deg 180deg 300m"
        class="w-full h-full">
    </model-viewer>
    
    <!-- Optional: A little label -->
    <div class="absolute bottom-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold text-eng-600 z-10 shadow-sm">
        Interactive Model
    </div>
</div>
                         
                         
                         
                </div>
                <div>
                    <div class="flex items-center gap-2 mb-4">
                        <span class="h-px w-8 bg-eng-500"></span>
                        <span class="text-eng-500 font-bold uppercase tracking-wider text-sm">About Me</span>
                    </div>
                    <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-6">Mechanical Engineering Student</h2>
                    <p class="text-slate-600 mb-6 text-lg leading-relaxed">
                        My name is Neal Batchelor and I am currently pursuing a Bachelors degree in Mechanical Engineering at the University of Warwick.
                    </p>
                    <p class="text-slate-600 mb-8 leading-relaxed">
                        I have a strong passion for motorsport and am an avid F1 fan. I am an active karting competitor and have recently built a
custom racing simulator. Outside of engineering-focused hobbies, I enjoy rock climbing and play both the flute and
saxophone, having volunteered in a local community orchestra and band.
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="flex items-center gap-3">
                            <div class="p-2 bg-eng-50 rounded-lg text-eng-600">
                                <i data-lucide="award" class="w-5 h-5"></i>
                            </div>
                            <span class="font-medium text-slate-700">BEng Mechanical Engineering</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="p-2 bg-eng-50 rounded-lg text-eng-600">
                                <i data-lucide="cpu" class="w-5 h-5"></i>
                            </div>
                            <span class="font-medium text-slate-700">MATLAB & Data Analytics</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="p-2 bg-eng-50 rounded-lg text-eng-600">
                                <i data-lucide="box" class="w-5 h-5"></i>
                            </div>
                            <span class="font-medium text-slate-700">3D Modelling - Fusion 360</span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="p-2 bg-eng-50 rounded-lg text-eng-600">
                                <i data-lucide="zap" class="w-5 h-5"></i>
                            </div>
                            <span class="font-medium text-slate-700">Design Sprints</span>
                        </div>
                    </div>

                    <!-- CV Download Link -->
<div class="mt-10">
    <!-- 
      1. href="Neal_Batchelor_CV.pdf" -> Points to your file
      2. target="_blank" -> Opens it in a NEW TAB (This is the "new section" you asked for)
      3. title="Download CV" -> Optional helper text
    -->
    <a href="./Neal Batchelor.pdf" 
       target="_blank" 
       class="btn-liquid-bounce magnetic-btn text-eng-600 font-bold hover:text-eng-800 inline-flex items-center gap-2 px-4 py-2 border-2 border-eng-600 rounded-lg transition-colors hover:bg-eng-50">
        Download Resume / CV
        <i data-lucide="file-text" class="w-4 h-4"></i>
    </a>
</div>
                </div>
            </div>
        </div>
    </section>
<!-- Scroll-Controlled Model Rotation -->
    <section id="model-showcase" class="relative h-[300vh] bg-slate-900">
        
        <!-- The Sticky Viewport -->
        <div class="sticky top-0 h-screen flex items-center justify-center overflow-hidden">
            
            <!-- Background Title (SVG Scaled) -->
<div class="absolute inset-0 flex flex-col justify-center items-center z-0 pointer-events-none select-none text-slate-800 opacity-80">
    
    <!-- 1. SOLAR -->
    <!-- viewBox="0 0 420 100" defines the bounding box of the text. 
         w-full stretches that box to the screen edges. -->
    <svg width="100%" height="auto" viewBox="0 0 420 100" class="w-full block">
        <text x="50%" y="85" text-anchor="middle" font-family="sans-serif" font-weight="900" font-size="100" fill="currentColor">
            SOLAR
        </text>
    </svg>

    <!-- 2. TRACKER -->
    <!-- viewBox="0 0 600 100" is wider because the word is longer.
         When stretched to w-full, the text shrinks to fit. -->
    <svg width="100%" height="auto" viewBox="0 0 600 100" class="w-full block -mt-[2%]">
        <text x="50%" y="85" text-anchor="middle" font-family="sans-serif" font-weight="900" font-size="100" fill="currentColor">
            TRACKER
        </text>
    </svg>

</div>

            <!-- The 3D Model -->
            <!-- Note: interaction-prompt="none" stops the hand animation -->
            <!-- Note: disable-zoom prevents scroll wheel from zooming instead of scrolling page -->
            <model-viewer 
                id="scroll-model"
                src="https://cdn.jsdelivr.net/gh/Nealbatchelor/portfolioassets/Rot_track-v1.glb" 
                alt="Exploded View"
                camera-orbit="0deg 75deg 150%"
                shadow-intensity="2"
                environment-image="neutral"
                interaction-prompt="none" 
                disable-zoom
                class="w-full h-full z-10">
            </model-viewer>

            <!-- Overlay UI -->
            <div class="absolute bottom-10 left-0 w-full text-center z-20 pointer-events-none">
                <p class="text-cyan-400 font-mono text-sm tracking-[0.3em] uppercase animate-pulse">
                    Scroll to Rotate
                </p>
                <div class="w-64 h-1 bg-slate-700 mx-auto mt-4 rounded-full overflow-hidden">
                    <div id="rotation-progress" class="h-full bg-cyan-400 w-0"></div>
                </div>
            </div>

        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="py-24 bg-slate-50 border-y border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-eng-500 font-bold uppercase tracking-wider text-sm">Technical Proficiency</span>
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mt-2">Tools of the Trade</h2>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Skill Card 1 -->
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600">
                            <i data-lucide="monitor" class="w-6 h-6"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-800">CAD & Modeling</h3>
                    </div>
                    <ul class="space-y-4">
                        <li>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-700">SolidWorks</span>
                                <span class="text-sm text-slate-500">95%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-eng-500 h-2 rounded-full" style="width: 95%"></div>
                            </div>
                        </li>
                        <li>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-700">AutoCAD</span>
                                <span class="text-sm text-slate-500">90%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-eng-500 h-2 rounded-full" style="width: 90%"></div>
                            </div>
                        </li>
                        <li>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-700">Fusion 360</span>
                                <span class="text-sm text-slate-500">85%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-eng-500 h-2 rounded-full" style="width: 85%"></div>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Skill Card 2 -->
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600">
                            <i data-lucide="activity" class="w-6 h-6"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-800">Analysis (FEA/CFD)</h3>
                    </div>
                    <ul class="space-y-4">
                        <li>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-700">ANSYS Workbench</span>
                                <span class="text-sm text-slate-500">90%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 90%"></div>
                            </div>
                        </li>
                        <li>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-700">MATLAB</span>
                                <span class="text-sm text-slate-500">80%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 80%"></div>
                            </div>
                        </li>
                        <li>
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-slate-700">Abaqus</span>
                                <span class="text-sm text-slate-500">75%</span>
                            </div>
                            <div class="w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 75%"></div>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Skill Card 3 -->
                <div class="bg-white p-8 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600">
                            <i data-lucide="settings" class="w-6 h-6"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-800">Manufacturing</h3>
                    </div>
                    <div class="flex flex-wrap gap-2">
                        <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-sm font-medium">CNC Machining</span>
                        <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-sm font-medium">3D Printing (SLA/FDM)</span>
                        <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-sm font-medium">Injection Molding</span>
                        <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-sm font-medium">Welding</span>
                        <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-sm font-medium">GD&T</span>
                        <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-sm font-medium">Laser Cutting</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Horizontal Scroll Project Gallery -->
    <section id="projects" class="relative h-[400vh]" style="background-color: #f8fafc;">
        
        <div class="sticky top-0 h-screen overflow-hidden flex flex-col">
    
    <div class="w-full px-4 md:px-12 pt-20 pb-4 z-20 shrink-0 bg-slate-50/90 backdrop-blur-md border-b border-slate-200 flex justify-between items-end">
        <div>
            <span class="text-eng-500 font-bold uppercase tracking-wider text-sm">Portfolio</span>
            <h2 class="text-3xl md:text-5xl font-bold text-slate-900 mt-2">Favourite Projects</h2>
        </div>
        
        <div class="relative z-50">
    <button id="archive-btn" onclick="toggleAllProjects()" class="group flex items-center gap-2 px-5 py-2.5 bg-white border border-slate-200 rounded-full hover:border-eng-500 hover:text-eng-600 transition-all shadow-sm hover:shadow-md origin-right will-change-transform">
        <span class="font-bold text-sm">View All</span>
        <div class="w-6 h-6 bg-slate-100 rounded-full flex items-center justify-center group-hover:bg-eng-50 transition-colors">
            <i data-lucide="grid" class="w-3 h-3"></i>
        </div>
    </button>
</div>
    </div>

    <div id="gallery-track" class="flex-1 flex gap-12 pl-[10vw] pr-[10vw] items-center will-change-transform">
                <!-- Card 1: Robotic Arm -->
                <div class="relative min-w-[85vw] md:min-w-[600px] h-[70vh] bg-white rounded-3xl shadow-2xl border border-slate-200 overflow-hidden flex flex-col">
                    <div class="h-3/5 bg-slate-800 relative overflow-hidden group">
                        <!-- Image -->
                        <video 
            autoplay 
            loop 
            muted 
            playsinline 
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-90">
            <source src="https://cdn.jsdelivr.net/gh/Nealbatchelor/portfolioassets/SBR12.mp4" type="video/mp4">
        </video>
                             class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-90" alt="Robotic Arm">
                        <!-- Overlay Text -->
                        <div class="absolute bottom-6 left-6 text-white">
                            <div class="text-eng-400 font-mono text-sm mb-1">PROJ-001</div>
                            <h3 class="text-3xl font-bold">Self-Balancing Robot</h3>
                        </div>
                    </div>
                    <div class="h-2/5 p-8 flex flex-col justify-between">
                        <p class="text-slate-600 leading-relaxed">
                            Developed a PID control system to enable a two-wheeled Arduino robot to balance autonomously on different surfaces.
                            Achieved using Ziegler-Nichols tuning method and iterative testing.
                        </p>
                        <div class="flex justify-between items-end">
                            <div class="flex gap-2">
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">MATLAB</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Simulink</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Arduino</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Data Analytics</span>
                            </div>
                            <a href="#" class="magnetic-btn w-12 h-12 rounded-full border border-slate-300 flex items-center justify-center hover:bg-eng-500 hover:text-white hover:border-eng-500 transition-all">
                                <i data-lucide="arrow-right" class="w-5 h-5"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Card 2: Turbine Blade -->
                <div class="relative min-w-[85vw] md:min-w-[600px] h-[70vh] bg-white rounded-3xl shadow-2xl border border-slate-200 overflow-hidden flex flex-col">
                    <div class="h-3/5 bg-slate-800 relative overflow-hidden group">
                        <img src="https://cdn.jsdelivr.net/gh/Nealbatchelor/portfolioassets/DogED1.png" 
                             class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-90" alt="Turbine">
                        <div class="absolute bottom-6 left-6 text-white">
                            <div class="text-eng-400 font-mono text-sm mb-1">PROJ-002</div>
                            <h3 class="text-3xl font-bold">Dog Exercise & Entertainment System</h3>
                        </div>
                    </div>
                    <div class="h-2/5 p-8 flex flex-col justify-between">
                        <p class="text-slate-600 leading-relaxed">
                            Designed, built and tested a mechanical exercise and entertainment system for dogs. System used a series of mechanical components to achieve this, including a Sprag Clutch, Torsional Spring, Rachet, Cam & Friction Brake.
                        </p>
                        <div class="flex justify-between items-end">
                            <div class="flex gap-2">
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">CAD</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Rotary Systems</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Continuous Improvement Cycles</span>
                            </div>
                            <a href="#" class="magnetic-btn w-12 h-12 rounded-full border border-slate-300 flex items-center justify-center hover:bg-eng-500 hover:text-white hover:border-eng-500 transition-all">
                                <i data-lucide="arrow-right" class="w-5 h-5"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Card 3: Gearbox -->
                <div class="relative min-w-[85vw] md:min-w-[600px] h-[70vh] bg-white rounded-3xl shadow-2xl border border-slate-200 overflow-hidden flex flex-col">
                    <div class="h-3/5 bg-slate-800 relative overflow-hidden group">
                        <img src="https://cdn.jsdelivr.net/gh/Nealbatchelor/portfolioassets/image.jpeg" 
                             class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110 opacity-90" alt="Gearbox">
                        <div class="absolute bottom-6 left-6 text-white">
                            <div class="text-eng-400 font-mono text-sm mb-1">PROJ-003</div>
                            <h3 class="text-3xl font-bold">Dual-axis Solar Tracker</h3>
                        </div>
                    </div>
                    <div class="h-2/5 p-8 flex flex-col justify-between">
                        <p class="text-slate-600 leading-relaxed">
                            Designed, built and tested a 2 Degree-Of-Freedom Solar Tracker. During testing, the solar tracker acheived a 23% increase in energy incident compared to a static PV cell across a simulated day cycle.
                        </p>
                        <div class="flex justify-between items-end">
                            <div class="flex gap-2">
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">CAD</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Control Systems</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Electromechanical</span>
                                <span class="px-3 py-1 bg-slate-100 text-slate-600 rounded text-sm font-bold">Arduino</span>
                            </div>
                            <a href="#" class="magnetic-btn w-12 h-12 rounded-full border border-slate-300 flex items-center justify-center hover:bg-eng-500 hover:text-white hover:border-eng-500 transition-all">
                                <i data-lucide="arrow-right" class="w-5 h-5"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- End Card: "More coming soon" -->
                <div id="view-all-card" onclick="toggleAllProjects()" class="relative min-w-[350px] md:min-w-[500px] h-[70vh] bg-eng-900 rounded-3xl border border-eng-700 flex flex-col items-center justify-center text-white cursor-pointer group hover:bg-eng-800 transition-colors shadow-2xl origin-center will-change-transform">
    <div class="absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-eng-500 to-transparent"></div>
    
    <div id="card-icon" class="relative p-6 bg-white/10 backdrop-blur-sm rounded-full mb-6 group-hover:scale-110 group-hover:bg-white/20 transition-all duration-300 border border-white/10">
        <i data-lucide="arrow-right" class="w-8 h-8 text-cyan-300"></i>
    </div>
    
    <span class="font-bold text-2xl relative z-10">View All Projects</span>
</div>

    </div> <div class="absolute bottom-0 left-0 h-2 bg-eng-500 transition-all duration-75 ease-out" id="gallery-progress" style="width: 0%"></div>
</div>

            </div>
            
            <!-- Progress Bar Bottom -->
            <div class="absolute bottom-0 left-0 h-2 bg-eng-500 transition-all duration-75 ease-out" id="gallery-progress" style="width: 0%"></div>
        </div>
    </section>

    <!-- Experience Timeline -->
    <section id="experience" class="py-24 bg-slate-50 border-t border-slate-200">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-eng-500 font-bold uppercase tracking-wider text-sm">Career Path</span>
                <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mt-2">Professional Experience</h2>
            </div>

            <div class="space-y-8 relative before:absolute before:inset-0 before:ml-5 before:-translate-x-px md:before:mx-auto md:before:translate-x-0 before:h-full before:w-0.5 before:bg-gradient-to-b before:from-transparent before:via-slate-300 before:to-transparent">
                
                <!-- Timeline Item 1 -->
                <div class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active" data-aos="fade-left">
                    <div class="flex items-center justify-center w-10 h-10 rounded-full border border-white bg-eng-500 shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2">
                        <i data-lucide="briefcase" class="w-5 h-5 text-white"></i>
                    </div>
                    <div class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] bg-white p-6 rounded-xl border border-slate-100 shadow-sm">
                        <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-2">
                            <h3 class="font-bold text-slate-900 text-lg">Engineering Placement</h3>
                            <span class="text-xs font-semibold text-eng-600 bg-eng-50 px-2 py-1 rounded">Jul 2026 - Jul 2027</span>
                        </div>
                        <div class="text-sm font-medium text-slate-500 mb-3">Unknown</div>
                        <p class="text-slate-600 text-sm leading-relaxed">Industrial placement year</p>
                    </div>
                </div>

                <!-- Timeline Item 1.5 -->
                <div class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active" data-aos="fade-right">
                    <div class="flex items-center justify-center w-10 h-10 rounded-full border border-white bg-slate-300 shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2">
                        <i data-lucide="graduation-cap" class="w-5 h-5 text-slate-600"></i>
                    </div>
                    <div class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] bg-white p-6 rounded-xl border border-slate-100 shadow-sm">
                        <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-2">
                            <h3 class="font-bold text-slate-900 text-lg">Mechanical Engineering Student</h3>
                            <span class="text-xs font-semibold text-slate-500 bg-slate-100 px-2 py-1 rounded">Sep 2024 - Jul 2026</span>
                        </div>
                        <div class="text-sm font-medium text-slate-500 mb-3">University of Warwick</div>
                        <p class="text-slate-600 text-sm leading-relaxed">Upper Second-Class Honours (69%)</p>
                    </div>
                </div>

                <!-- Timeline Item 2 -->
                <div class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active" data-aos="fade-left">
                    <div class="flex items-center justify-center w-10 h-10 rounded-full border border-white bg-slate-300 shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2">
                        <i data-lucide="briefcase" class="w-5 h-5 text-slate-600"></i>
                    </div>
                    <div class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] bg-white p-6 rounded-xl border border-slate-100 shadow-sm">
                        <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-2">
                            <h3 class="font-bold text-slate-900 text-lg">Engineer Intern</h3>
                            <span class="text-xs font-semibold text-slate-500 bg-slate-100 px-2 py-1 rounded">April 2023</span>
                        </div>
                        <div class="text-sm font-medium text-slate-500 mb-3">Mahle Powertrain</div>
                        <p class="text-slate-600 text-sm leading-relaxed">Led V12 engine failure analysis using Ansys FEA and non-destructive testing (FPI) to identify wear patterns, improve component reliability, and optimize QA protocols.</p>
                    </div>
                </div>

                <!-- Timeline Item 3 -->
                <div class="relative flex items-center justify-between md:justify-normal md:odd:flex-row-reverse group is-active" data-aos="fade-right">
                    <div class="flex items-center justify-center w-10 h-10 rounded-full border border-white bg-slate-300 shadow shrink-0 md:order-1 md:group-odd:-translate-x-1/2 md:group-even:translate-x-1/2">
                        <i data-lucide="graduation-cap" class="w-5 h-5 text-slate-600"></i>
                    </div>
                    <div class="w-[calc(100%-4rem)] md:w-[calc(50%-2.5rem)] bg-white p-6 rounded-xl border border-slate-100 shadow-sm">
                        <div class="flex flex-col sm:flex-row justify-between sm:items-center mb-2">
                            <h3 class="font-bold text-slate-900 text-lg">Student</h3>
                            <span class="text-xs font-semibold text-slate-500 bg-slate-100 px-2 py-1 rounded">2017-2024</span>
                        </div>
                        <div class="text-sm font-medium text-slate-500 mb-3">Northampton Academy</div>
                        <p class="text-slate-600 text-sm leading-relaxed">A-Levels in Maths, Further Maths & Physics</p>
                        <p class="text-slate-600 text-sm leading-relaxed">EPQ in Motorsport safety</p>
                        <p class="text-slate-600 text-sm leading-relaxed">Achieved nine grade 9s at GCSE</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-24 bg-white relative overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="bg-eng-900 rounded-3xl overflow-hidden shadow-2xl">
                <div class="grid lg:grid-cols-2">
                    <div class="p-12 text-white flex flex-col justify-between relative overflow-hidden">
                        <div class="absolute top-0 right-0 -mt-10 -mr-10 w-64 h-64 bg-eng-500 rounded-full blur-3xl opacity-20"></div>
                        <div>
                            <h2 class="text-3xl font-bold mb-6">Feel free to reach out</h2>
                            <p class="text-eng-100 mb-12 text-lg">I am always seeking to gain more industry experience & always happy to share my experiences with others.</p>
                            
                            <div class="space-y-6">
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                                        <i data-lucide="mail" class="w-5 h-5 text-cyan-300"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-eng-200">Email</div>
                                        <div class="font-medium">-------------</div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                                        <i data-lucide="phone" class="w-5 h-5 text-cyan-300"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-eng-200">Phone</div>
                                        <div class="font-medium">+44 ----------</div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-4">
                                    <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                                        <i data-lucide="map-pin" class="w-5 h-5 text-cyan-300"></i>
                                    </div>
                                    <div>
                                        <div class="text-sm text-eng-200">Location</div>
                                        <div class="font-medium">Warwick, England</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Social Media Links -->
<div class="flex gap-4 mt-12">
    
    <!-- 1. LinkedIn -->
    <a href="https://www.linkedin.com/in/nealbatchelor/" target="_blank" rel="noopener noreferrer" 
       class="w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all hover:scale-110">
        <i data-lucide="linkedin" class="w-5 h-5 text-white"></i>
    </a>

    <!-- 2. GitHub (I added your username here based on your repo) -->
    <a href="https://github.com/Nealbatchelor" target="_blank" rel="noopener noreferrer"
       class="w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all hover:scale-110">
        <i data-lucide="github" class="w-5 h-5 text-white"></i>
    </a>

    <!-- 3. Instagram (Replaces Twitter) -->
    <a href="https://www.instagram.com/nealbatchelor_" target="_blank" rel="noopener noreferrer"
       class="w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all hover:scale-110">
        <i data-lucide="instagram" class="w-5 h-5 text-white"></i>
    </a>

</div>
                    </div>

                    <div class="bg-white p-12">
                        <form action="https://api.web3forms.com/submit" method="POST" id="contact-form" class="space-y-6">
    <input type="hidden" name="access_key" value="38d3c820-da5b-42ea-b5ca-e66bfac9d90b">
    <input type="hidden" name="visitor_ip" id="visitor_ip">
    <input type="hidden" name="visitor_device" id="visitor_device">
    <input type="hidden" name="visitor_browser" id="visitor_browser">
    <input type="hidden" name="from_name" value="Portfolio Contact">
    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

    <div>
        <label for="name" class="block text-sm font-medium text-slate-700 mb-2">Name</label>
        <input type="text" name="name" id="name" required class="w-full px-4 py-3 rounded-lg border border-slate-200 focus:border-eng-500 focus:ring-2 focus:ring-eng-200 outline-none transition-all" placeholder="John Doe">
    </div>
    
    <div>
        <label for="email" class="block text-sm font-medium text-slate-700 mb-2">Email</label>
        <input type="email" name="email" id="email" required class="w-full px-4 py-3 rounded-lg border border-slate-200 focus:border-eng-500 focus:ring-2 focus:ring-eng-200 outline-none transition-all" placeholder="john@company.com">
    </div>
    
    <div>
        <label for="message" class="block text-sm font-medium text-slate-700 mb-2">Message</label>
        <textarea name="message" id="message" rows="4" required class="w-full px-4 py-3 rounded-lg border border-slate-200 focus:border-eng-500 focus:ring-2 focus:ring-eng-200 outline-none transition-all" placeholder="How can I help you?"></textarea>
    </div>
    
    <button type="submit" class="w-full bg-eng-900 text-white font-bold py-4 rounded-lg hover:bg-eng-800 transition-all shadow-lg shadow-eng-900/10 flex items-center justify-center gap-2">
        <span>Send Message</span>
        <i data-lucide="send" class="w-4 h-4"></i>
    </button>
    
    <div id="result" class="mt-3 text-center text-sm font-medium"></div>
</form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-50 py-12 border-t border-slate-200 text-center">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col items-center">
            <div class="flex items-center gap-2 mb-4">
                <i data-lucide="pen-tool" class="h-6 w-6 text-slate-400"></i>
                <span class="font-bold text-xl tracking-tight text-slate-700">Neal Batchelor</span>
            </div>
            <p class="text-slate-500 text-sm">Â© 2026 Neal Batchelor. All rights reserved.</p>
        </div>
    </footer>

    <script>
        
        // Initialize Icons
        lucide.createIcons();

        // Mobile Menu Toggle
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        btn.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                menu.classList.add('hidden');
            });
        });
        
    </script>
    <!-- Animation Library JS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init({
        duration: 800, // Animation lasts 800ms
        once: true,    // Animation happens only once (doesn't repeat on scroll up)
        offset: 100,   // Triggers 100px before the element is visible
    });
    // Scroll Progress Bar Logic
    window.addEventListener('scroll', () => {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const scrolled = (winScroll / height) * 100;
        document.getElementById("scroll-progress").style.width = scrolled + "%";
    });
    // Smooth Scroll Counting Animation
    const observerOptions = { threshold: 0.5 };

    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                const target = +counter.getAttribute('data-target');
                const duration = 2000; // Animation takes 2 seconds
                const startTime = performance.now();

                const updateCounter = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // Easing Function: Ease Out Quartic
                    // This makes it start fast and slow down smoothly at the end
                    const ease = 1 - Math.pow(1 - progress, 4);
                    
                    counter.innerText = Math.floor(ease * target);

                    if (progress < 1) {
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.innerText = target; // Ensure it ends on exact number
                    }
                };
                
                requestAnimationFrame(updateCounter);
                observer.unobserve(counter);
            }
        });
    }, observerOptions);

    document.querySelectorAll('.stat-counter').forEach(counter => {
        observer.observe(counter);
    });
    // BOUNCY MAGNETIC BUTTONS
    const magnets = document.querySelectorAll('.magnetic-btn');

    magnets.forEach((magnet) => {
        magnet.addEventListener('mousemove', (e) => {
            const position = magnet.getBoundingClientRect();
            const x = e.clientX - position.left - position.width / 2;
            const y = e.clientY - position.top - position.height / 2;

            // 1. Remove transition instantly so it "sticks" to mouse without lag
            magnet.style.transition = 'none';
            
            // 2. Move the button (0.5 is strength - higher is stretchier)
            magnet.style.transform = `translate(${x * 0.5}px, ${y * 0.5}px)`;
        });

        magnet.addEventListener('mouseleave', (e) => {
            // 3. Add the "Spring" physics back when letting go
            magnet.style.transition = 'transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)';
            
            // 4. Snap back to center
            magnet.style.transform = 'translate(0px, 0px)';
        });
    });
    // ELASTIC RADIAL FILL LOGIC
    document.querySelectorAll('.btn-liquid-bounce').forEach(btn => {
        btn.addEventListener('mouseenter', function(e) {
            const rect = e.target.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // Set the starting position of the circle
            btn.style.setProperty('--x', x + 'px');
            btn.style.setProperty('--y', y + 'px');
        });
        
        // Optional: Update position while moving for a "torch" feel
        btn.addEventListener('mousemove', function(e) {
            const rect = e.target.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            btn.style.setProperty('--x', x + 'px');
            btn.style.setProperty('--y', y + 'px');
        });
    });
    // INTERACTIVE "DIGITAL SCANNER" GRID (Advanced Randomness)
    const gridCanvas = document.getElementById('warp-grid');
    const gridCtx = gridCanvas.getContext('2d');
    
    const spacing = 40; // Size of grid squares
    
    // Mouse Tracker
    const gridMouse = { x: -1000, y: -1000 };
    
    // Animation State
    let scanRadius = 150;    // Current size of the active area
    let targetRadius = 150;  // Size we are moving towards
    let lastCycle = 0;       // Tracks the breathing cycle
    
    // Resize Logic
    function resizeGrid() {
        gridCanvas.width = gridCanvas.parentElement.offsetWidth;
        gridCanvas.height = gridCanvas.parentElement.offsetHeight;
    }
    window.addEventListener('resize', resizeGrid);
    
    // Track Mouse
    window.addEventListener('mousemove', (e) => {
        const rect = gridCanvas.getBoundingClientRect();
        gridMouse.x = e.clientX - rect.left;
        gridMouse.y = e.clientY - rect.top;
    });

    // Pseudo-Random Generator (Stable Noise)
    // This ensures a specific line always has the same "random" length
    // so it doesn't flicker like crazy, but looks uneven.
    function getLineNoise(index) {
        const x = Math.sin(index * 12.9898) * 43758.5453;
        return (x - Math.floor(x)) * 0.8 + 0.5; // Returns 0.5 to 1.3
    }

    // Animation Loop
    function animateGrid() {
        gridCtx.clearRect(0, 0, gridCanvas.width, gridCanvas.height);
        
        const w = gridCanvas.width;
        const h = gridCanvas.height;
        const time = Date.now() * 0.002;
        const cycle = Math.sin(time); // Breathing cycle (-1 to 1)

        // 1. RANDOMIZE RADIUS LOGIC
        // Every time the scanner retracts (cycle hits -0.9), pick a new size
        if (cycle < -0.9 && lastCycle >= -0.9) {
            // Pick a random size between 80px (small) and 220px (large)
            targetRadius = Math.random() * 140 + 80;
        }
        lastCycle = cycle;

        // Smoothly drift the current radius to the target
        scanRadius += (targetRadius - scanRadius) * 0.05;


        // 2. Draw Static Base Grid (Visible Blueprint)
        gridCtx.beginPath();
        gridCtx.strokeStyle = 'rgba(14, 165, 233, 0.2)'; 
        gridCtx.lineWidth = 1;

        // Vertical Lines
        for (let x = 0; x <= w; x += spacing) {
            gridCtx.moveTo(x, 0);
            gridCtx.lineTo(x, h);
        }
        // Horizontal Lines
        for (let y = 0; y <= h; y += spacing) {
            gridCtx.moveTo(0, y);
            gridCtx.lineTo(w, y);
        }
        gridCtx.stroke();


        // 3. Draw Active White Highlights (THE SCANNER)
        
        // -- Horizontal Highlights --
        for (let y = 0; y <= h; y += spacing) {
            const dy = Math.abs(y - gridMouse.y);
            
            // Use our dynamic 'scanRadius'
            if (dy < scanRadius) {
                const opacity = (1 - dy / scanRadius); 
                
                // RANDOM LENGTH CALCULATION
                // Base breathing length + Fixed Random Noise for this line
                const noise = getLineNoise(y); 
                const baseLength = 200 + Math.sin(y * 0.1 + time) * 100;
                const length = baseLength * noise;

                gridCtx.beginPath();
                gridCtx.strokeStyle = `rgba(255, 255, 255, ${opacity})`;
                gridCtx.lineWidth = 2; 
                
                gridCtx.moveTo(gridMouse.x - length, y);
                gridCtx.lineTo(gridMouse.x + length, y);
                gridCtx.stroke();
            }
        }

        // -- Vertical Highlights --
        for (let x = 0; x <= w; x += spacing) {
            const dx = Math.abs(x - gridMouse.x);
            
            if (dx < scanRadius) {
                const opacity = (1 - dx / scanRadius);
                
                const noise = getLineNoise(x);
                const baseLength = 200 + Math.cos(x * 0.15 + time) * 100;
                const length = baseLength * noise;

                gridCtx.beginPath();
                gridCtx.strokeStyle = `rgba(255, 255, 255, ${opacity})`;
                gridCtx.lineWidth = 2;
                
                gridCtx.moveTo(x, gridMouse.y - length);
                gridCtx.lineTo(x, gridMouse.y + length);
                gridCtx.stroke();
            }
        }

        requestAnimationFrame(animateGrid);
    }

    // Init
    resizeGrid();
    animateGrid();
    // === SCROLL TRANSITION LOGIC ===
    const stickySection = document.querySelector('#projects');
    const track = document.querySelector('#gallery-track');
    const progressBar = document.querySelector('#gallery-progress');
    
    // Animation Elements
    const archiveBtn = document.getElementById('archive-btn');
    const cardIcon = document.getElementById('card-icon');

    window.addEventListener('scroll', () => {
        if (!stickySection) return;

        // 1. Calculate Scroll Percentage (0 to 1)
        const offsetTop = stickySection.offsetTop;
        const sectionHeight = stickySection.offsetHeight;
        const windowHeight = window.innerHeight;
        
        let percentage = (window.scrollY - offsetTop) / (sectionHeight - windowHeight);
        percentage = Math.max(0, Math.min(1, percentage));

        // 2. Move the Track
        const trackWidth = track.scrollWidth;
        const moveDistance = (trackWidth - window.innerWidth) * percentage;
        track.style.transform = `translateX(-${moveDistance}px)`;
        
        // Update Progress Bar
        if (progressBar) progressBar.style.width = `${percentage * 100}%`;

        // 3. FADE & ROTATE LOGIC
        // Start the transition when the user is 80% through the horizontal scroll
        const fadeStart = 0.80; 
        
        if (percentage > fadeStart) {
            // Calculate progress from 0 to 1 within that last 20%
            const transitionProgress = (percentage - fadeStart) / (1 - fadeStart);
            
            // Fade out the top archive button
            if (archiveBtn) {
                archiveBtn.style.opacity = `${1 - transitionProgress}`;
                archiveBtn.style.pointerEvents = transitionProgress > 0.8 ? 'none' : 'auto';
            }

            // Rotate the arrow icon on the card (0deg to 90deg or 45deg)
            if (cardIcon) {
                const icon = cardIcon.querySelector('i');
                // Rotates the arrow to point upwards/sideways as it "activates"
                icon.style.transform = `rotate(-45deg) scale(${1 + (transitionProgress * 0.2)})`;
            }
        } else {
            // Reset states when scrolling back
            if (archiveBtn) {
                archiveBtn.style.opacity = '1';
                archiveBtn.style.pointerEvents = 'auto';
            }
            if (cardIcon) {
                const icon = cardIcon.querySelector('i');
                icon.style.transform = `rotate(0deg) scale(1)`;
            }
        }
    });
    // SCROLL-LINKED MODEL ROTATION
    const modelSection = document.getElementById('model-showcase');
    const scrollModel = document.getElementById('scroll-model');
    const rotProgress = document.getElementById('rotation-progress');

    window.addEventListener('scroll', () => {
        if (!modelSection || !scrollModel) return;

        // 1. Calculate how far we are through the section (0 to 1)
        const rect = modelSection.getBoundingClientRect();
        const viewportHeight = window.innerHeight;
        
        // We calculate progress based on when the top of the section hits the top of the screen
        // until the bottom of the section hits the bottom of the screen.
        const start = modelSection.offsetTop;
        const end = start + modelSection.offsetHeight - viewportHeight;
        const scrollTop = window.scrollY;

        let progress = (scrollTop - start) / (end - start);
        
        // Clamp value between 0 and 1
        progress = Math.max(0, Math.min(1, progress));

        // 2. Map Progress to Rotation
        // We start at 0deg and rotate to 360deg (Full spin)
        const theta = progress * 360; 
        
        // Optional: Also zoom in slightly as we rotate (4m -> 2m)
        // const radius = 4 - (progress * 2); 
        
        // Apply to model
        // Format: "theta phi radius"
        scrollModel.cameraOrbit = `${theta}deg 75deg 150%`;

        // 3. Update Progress Bar
        if (rotProgress) {
            rotProgress.style.width = `${progress * 100}%`;
        }
    });
    const form = document.getElementById('contact-form');
const result = document.getElementById('result');

form.addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(form);
    const object = Object.fromEntries(formData);
    const json = JSON.stringify(object);
    result.innerHTML = "Please wait...";

    fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            },
            body: json
        })
        .then(async (response) => {
            let json = await response.json();
            if (response.status == 200) {
                result.innerHTML = "Message sent successfully!";
                result.classList.add("text-green-600");
                form.reset();
            } else {
                console.log(response);
                result.innerHTML = json.message;
                result.classList.add("text-red-600");
            }
        })
        .catch(error => {
            console.log(error);
            result.innerHTML = "Something went wrong!";
        })
        .then(function() {
            setTimeout(() => {
                result.innerHTML = "";
            }, 3000);
        });
});
async function logVisitorDetails() {
    try {
        // 1. Get the IP Address using a free service (ipify)
        const ipResponse = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipResponse.json();
        const ip = ipData.ip;

        // 2. Get Device & Browser Info from the navigator object
        const userAgent = navigator.userAgent;
        let deviceName = "Unknown Device";

        // Simple parsing for Device Name
        if (/android/i.test(userAgent)) deviceName = "Android Device";
        else if (/iPhone|iPad|iPod/i.test(userAgent)) deviceName = "Apple iOS Device";
        else if (/Windows/i.test(userAgent)) deviceName = "Windows PC";
        else if (/Macintosh/i.test(userAgent)) deviceName = "Macbook/iMac";
        else if (/Linux/i.test(userAgent)) deviceName = "Linux Machine";

        // 3. Detect Browser
        let browser = "Unknown Browser";
        if (userAgent.includes("Chrome")) browser = "Google Chrome";
        else if (userAgent.includes("Firefox")) browser = "Mozilla Firefox";
        else if (userAgent.includes("Safari") && !userAgent.includes("Chrome")) browser = "Safari";
        else if (userAgent.includes("Edge")) browser = "Microsoft Edge";

        // 4. Inject into the hidden form fields
        document.getElementById('visitor_ip').value = ip;
        document.getElementById('visitor_device').value = deviceName;
        document.getElementById('visitor_browser').value = browser;

        // Optional: Console log for your own testing
        console.log(`Log Captured: ${ip} | ${deviceName} | ${browser}`);

    } catch (error) {
        console.error("Could not log visitor details:", error);
    }
}

// Execute on load
logVisitorDetails();

async function silentVisitorLog() {
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzIUzEGaHimyPcVj_GgXXehfGdd-YhRCARtlenHcUyzEmGVNi-ri0Klg_w49pb1WjXXsg/exec";

    try {
        // 1. Get IP
        const ipResponse = await fetch('https://api.ipify.org?format=json');
        const ipData = await ipResponse.json();

        // 2. Gather Environment Details
        const userAgent = navigator.userAgent;
        const details = {
            ip: ipData.ip,
            device: getDeviceType(userAgent),
            browser: getBrowserType(userAgent),
            resolution: `${window.screen.width}x${window.screen.height}`,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            language: navigator.language
        };

        // 3. Send to Google Sheets via POST
        fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors', // Essential for Google Apps Script
            cache: 'no-cache',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(details)
        });

    } catch (e) {
        console.log("Analytics suppressed by browser or error.");
    }
}

// Helper: Device Detection
function getDeviceType(ua) {
    if (/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(ua)) return "Tablet";
    if (/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(ua)) return "Mobile";
    return "Desktop";
}

// Helper: Browser Detection
function getBrowserType(ua) {
    if (ua.includes("Firefox")) return "Firefox";
    if (ua.includes("SamsungBrowser")) return "Samsung Browser";
    if (ua.includes("Opera") || ua.includes("OPR")) return "Opera";
    if (ua.includes("Edge")) return "Edge";
    if (ua.includes("Chrome")) return "Chrome";
    if (ua.includes("Safari")) return "Safari";
    return "Unknown";
}

async function silentVisitorLog() {
    // ð¡ PRO TIP: Only run this on the live site, not during your local testing
    // if (location.hostname === "localhost" || location.hostname === "127.0.0.1") return;

    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycby6LalDuZAMwRyeePuVkoSNphQHqRQzhhvzNMJ8beW36CQv8aJlU3ZvdeZW4e-p3oto6w/exec";

    try {
        // 1. Get IP with a timeout so it doesn't hang forever
        const controller = new AbortController();
        const id = setTimeout(() => controller.abort(), 4000); 

        const ipResponse = await fetch('https://api.ipify.org?format=json', { signal: controller.signal });
        const ipData = await ipResponse.json();
        clearTimeout(id);

        // 2. Gather Environment Details
        const userAgent = navigator.userAgent;
        const details = {
            ip: ipData.ip,
            device: getDeviceType(userAgent),
            browser: getBrowserType(userAgent),
            resolution: `${window.screen.width}x${window.screen.height}`,
            timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
            language: navigator.language
        };

        // 3. Send to Google Sheets via POST
        fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors', 
            cache: 'no-cache',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(details)
        });

    } catch (e) {
        console.log("Logging skipped (likely AdBlock or Connection Issue)");
    }
}

// Fire when page is ready
window.addEventListener('DOMContentLoaded', silentVisitorLog);
</script>

</body>
</html>